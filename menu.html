<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/menu.css">
  <title>Document</title>
</head>

<body>


  <div class="space">
    <div class=".nav-container">
      <div class="hamb">
        <span class="bar1"></span><span class="bar2"></span><span class="bar3"></span>
      </div>
    </div>
    <div class="menu">
      <ul class="lista-menu">
        <li class="item-menu" ><a  href="#home">Home</a></li>
        <li class="item-menu"><a  href="#news">News</a></li>
        <li class="item-menu"><a  href="#contact">Contact</a></li>
        <li class="item-menu"><a  href="#about">About</a></li>
      </ul>
    </div>
    <!--         <div class="hamburger">
            <i class="menuIcon material-icons">menu</i>
            <i class="closeIcon material-icons">close</i>
        </div>
       
     
        <ul class="lista-menu">
            <li class="item-menu"><a class="item-menu" href="#home">Home</a></li>
            <li class="item-menu"><a class="item-menu" href="#news">News</a></li>
            <li class="item-menu"><a class="item-menu" href="#contact">Contact</a></li>
            <li class="item-menu"><a class="item-menu" href="#about">About</a></li>
        </ul>

    </div> -->
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
<script>
  gsap.registerPlugin(ScrollTrigger);

  let toggle = document.querySelector(".hamb");
  let boolmenu = false;
  let tlmenu = gsap.timeline()


  toggle.addEventListener("click", function () {
    if (boolmenu === false) {
      gsap.to(".bar1", { duration: .2, width: "45px", height: "4px", top: "48%", left: "45%", rotate: "45deg" })
      gsap.to(".bar2", { duration: .2, width: "2px", })
      gsap.to(".bar3", { duration: .2, width: "45px", height: "4px", top: "48%", left: "45%", rotate: "-45deg" })

      tlmenu.to(".lista-menu", {
        duration: .5,
        width: "100%",
        
      });
      tlmenu.to(".lista-menu li", {
        duration: .7,
        opacity: 1,
        stagger: .15
      })
      boolmenu = true
    } else {
      gsap.to(".bar1", { duration: .2, width: "37px", height: "4px", top: "30%", left: "50%", rotate: "0deg" })
      gsap.to(".bar2", { duration: .2, width: "37px", height: "4px", top: "50%", left: "50%", opacity: 1 })
      gsap.to(".bar3", { duration: .2, width: "37px", height: "4px", top: "70%", left: "50%", rotate: "0deg" })
      tlmenu.to(".lista-menu li", {
        duration: .7,
        opacity: 0,
        stagger: .1
      })
      tlmenu.to(".lista-menu", {
        duration: .5,
        width: 0,
       
      });
   
      boolmenu = false
    }
  })
  //MENU

  /* 
  
    const showAnimli = gsap.from('.item-menu', {
      yPercent: -180,
      stagger: 0.1,
      duration: 0.2,
    }).progress(1);
  
    ScrollTrigger.create({
      start: "top top",
      end: 99999,
      onUpdate: (self) => {
        if (self.direction === -1) {
          showAnimli.play();
        } else {
          showAnimli.reverse();
        }
      }
    });
   */
  //
  const menu = document.querySelector(".lista-menu");
  const menuItems = document.querySelectorAll(".item-menu");
  const hamburger = document.querySelector(".hamburger");
  const closeIcon = document.querySelector(".closeIcon");
  const menuIcon = document.querySelector(".menuIcon");

  function toggleMenu() {
    if (menu.classList.contains("showMenu")) {
      menu.classList.remove("showMenu");
      closeIcon.style.display = "none";
      menuIcon.style.display = "block";
    } else {
      menu.classList.add("showMenu");
      closeIcon.style.display = "block";
      menuIcon.style.display = "none";
    }
  }
  menuItems.forEach(
    function (menuItem) {
      menuItem.addEventListener("click", toggleMenu);
    }
  )

  hamburger.addEventListener("click", toggleMenu);

</script>


</html>